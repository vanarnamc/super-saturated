<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      @font-face {
        font-family: "Gravity";
        src: url("assets/gravity.ttf") format("truetype");
      }

      @font-face {
        font-family: "OPS";
        src: url("assets/ops.ttf") format("truetype");
      }
      @font-face {
        font-family: "OPS-Italic";
        src: url("assets/ops-italic.ttf") format("truetype");
      }

      body {
        margin: 0;
        padding: 0;
        background-color: white;
        overflow: hidden;
      }
      a {
        text-decoration: none;
        color: black;
      }

      a:hover {
        text-decoration: underline;
      }

      .letter {
        font-family: "Gravity";
        font-size: 200px;
        transform: scale(1, 3);
        transform-origin: 65% 65%;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        font-variation-settings: "wdth" 50;
        color: #3da326;
        transition: font-variation-settings 0.5s ease; /* Smooth transition for width change */
        pointer-events: auto; /* Enable pointer events on each letter for hover effects */
      }

      .main-text {
        display: flex;
        height: 22vh;
        cursor: pointer;
        z-index: 70;
        -webkit-user-select: none; /* Chrome, Safari, Opera */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none; /* Internet Explorer */
        user-select: none; /* Standard syntax */
      }

      .noselect {
        -webkit-touch-callout: none; /* iOS Safari */
        -webkit-user-select: none; /* Safari */
        -khtml-user-select: none; /* Konqueror HTML */
        -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
        user-select: none; /* Non-prefixed version, currently supported by all modern browsers */
      }

      #main-container {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        flex-direction: column;
        width: 100%;
        overflow: hidden;
        height: 100vh;
      }

      #display {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        flex-direction: column;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      #menu-bar {
        display: flex;
        font-size: 18px;
        justify-content: space-between;
        align-items: center;
        flex-direction: row;
        width: 100%;
        height: 30px;
        background-color: #ffffff;
        z-index: 1000;
        font-family: "OPS";
        padding-left: 50px;
        padding-right: 50px;
}
       
      

      #home-about{
        display: flex;
        justify-content: start;
        gap: 30px;
        align-items: center;
        width: 100%;
      }
      #clear-button{
        margin-right: 20px;
      }
      #home-button{
        margin-left: 20px;
      }

      #clear-button:hover {
        text-decoration: underline;
        cursor: pointer;
      }
      #home-button:hover {
        text-decoration: underline;
        cursor: pointer;

      }

     
      .img-container {
  position: absolute;
  width: 150px; /* Adjust as needed */
  height: auto;
  overflow: visible; /* Ensure the link is visible when extending beyond the container */
  cursor: pointer;
  transition: background-color 0.5s ease;
  z-index: 100;
}

.img-container img {
  width: 100%;
  height: auto;
  display: block; /* Ensures no extra space within the container */
}

.img-container a {
  position: absolute;
  top: 100%; /* Position below the image */
  left: 0; /* Align with the left edge of the image */
  width: 100%; /* Match the width of the image */
  color: black;
  font-family: "OPS";
  text-decoration: none;
  visibility: hidden; /* Hide link by default */
    white-space: nowrap; /* Prevents the text from wrapping */
  opacity: 0;
  transition: opacity 0.5s ease; /* Smooth transition for visibility */
  text-align: left; /* Center the text below the image */
  padding: 5px 0; /* Add some padding to separate text from the image */
}

.img-container:hover {
z-index: 200;}

.img-container:hover a {
  visibility: visible;
  opacity: 1; /* Show link on hover */

}

.img-container:hover::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(61, 162, 38, 1); /* Slightly see-through background */
  mix-blend-mode: screen;
  z-index: 200;
}

.person-name {
  font-family: "OPS"; 
  display: block;
}

.image-name {
  font-family: "OPS-Italic";
  display: block;
}

 /* Mobile styles */
 @media only screen and (max-width: 600px) {
    .letter {
      font-size: 100px; /* Adjust as needed */
    }
  }
    </style>
    <title>SUPER SATURATED</title>
  </head>
  <body>
    <div id="main-container">
      <div id="menu-bar">
        <div id="home-about">
        <div id="home-button">RISD GD MFA 2024</div>
        <div> <a href="about">+ About the Show</a></div>
      </div>
        <div id="clear-button">[Clear]</div>
      </div>
      <div id="display">
        <div class="main-text" data-text="SUPER SATURATED "></div>
      </div>
    </div>
  </body>

  <script>
    window.onload = function () {
      fetch('assets/images.json') // Make sure this path matches where your JSON file is located
        .then(response => response.json())
        .then(images => {
          document.body.addEventListener('click', () => addImages(images, 3));
          setupEventListeners();
        });
    
      function addImages(images, count) {
        for (let i = 0; i < count; i++) {
          setTimeout(function() {
            const randomImage = images[Math.floor(Math.random() * images.length)];
            createImageContainer(randomImage);
          }, 100 * i);
        }
      }
    
      function createImageContainer(imageData) {
    var imgContainer = document.createElement("div");
    imgContainer.className = "img-container";
    imgContainer.style.top = Math.random() * 100 + "%";
    imgContainer.style.left = Math.random() * 100 + "%";

    var img = document.createElement("img");
    img.src = `photos/${imageData.filename}`;

    // Create separate elements for the person's name and image name
    var personName = document.createElement("div");
    personName.textContent = imageData.personName;
    personName.className = "person-name";

    var imageName = document.createElement("div");
    imageName.textContent = imageData.imageName;
    imageName.className = "image-name";

    var link = document.createElement("a");
    link.href = imageData.link;
    link.target = "_blank";
    link.appendChild(personName);
    link.appendChild(imageName);

    imgContainer.appendChild(img);
    imgContainer.appendChild(link);
    document.body.appendChild(imgContainer);
}
     

function setupEventListeners() {
        document.getElementById("clear-button").addEventListener("click", function (event) {
          event.stopPropagation();
          document.querySelectorAll(".img-container").forEach(container => container.remove());
        });
    
        document.getElementById("home-button").addEventListener("click", function () {
          window.location.reload();
        });
    
        document.querySelectorAll(".main-text").forEach(mainText => {
          const text = mainText.dataset.text;
          mainText.innerHTML = "";
    
          text.split("").forEach(char => {
            const element = document.createElement("span");
            element.classList.add("letter");
            element.textContent = char;
            const randomWidth = Math.random() * (100 - 50) + 50;
            element.style.fontVariationSettings = `'wdth' ${randomWidth.toFixed(0)}`;
            element.setAttribute("data-width", `${randomWidth.toFixed(0)}`);
    
            element.addEventListener("mouseenter", () => {
              let currentWidth = parseInt(element.getAttribute("data-width"), 10);
              let newWidth = currentWidth > 75 ? 50 : 100;
              element.style.fontVariationSettings = `'wdth' ${newWidth}`;
              element.setAttribute("data-width", newWidth);
            });
    
            mainText.appendChild(element);
          });
        });
      }
    };
   

if (window.innerWidth <= 600) { /* Only run on mobile */
    let oscillationPosition = 0;
let direction = 1;
const screenWidth = window.innerWidth;
const oscillationSpeed = 200; // Change this to control the speed of oscillation
    setInterval(() => {
  oscillationPosition += direction * oscillationSpeed;
  if (oscillationPosition >= screenWidth || oscillationPosition <= 0) {
    direction *= -1;
  }

  document.querySelectorAll(".letter").forEach(letter => {
    const letterPosition = letter.getBoundingClientRect().left;
    if (Math.abs(letterPosition - oscillationPosition) < 50) { // Change 50 to control the range of effect
      let currentWidth = parseInt(letter.getAttribute("data-width"), 10);
      let newWidth = currentWidth > 75 ? 50 : 100;
      letter.style.fontVariationSettings = `'wdth' ${newWidth}`;
      letter.setAttribute("data-width", newWidth);
    } else {
      let currentWidth = parseInt(letter.getAttribute("data-width"), 10);
      let newWidth = currentWidth > 75 ? 100 : 50;
      letter.style.fontVariationSettings = `'wdth' ${newWidth}`;
      letter.setAttribute("data-width", newWidth);
    }
  });
}, 100);
}
    </script>
    
</html>
